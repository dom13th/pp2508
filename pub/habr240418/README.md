# pp2508 portable prototype

## ㅤПредистория
ㅤИтак, лет десять назад я работал в фирме производящей промышленное оборудование. В шкафах управления всегда старался ставить покупные изделия. Но настал момент, когда на рынке автоматики не нашел устройства решающего задачу за адекватную стоимость. Ближайшие решение которым можно было решить задачу, выглядело как микроскоп в качестве инструмента забивания гвоздей. Эта ситуация вынудила заняться самодельщиной.

![](https://github.com/dom13th/pp2508/habr/p1/img/001.png "тот самый прототип в начальной стадии сборки, 2015 г.")

ㅤДля отладки устройства был собран прототип из нескольких плат модулей закрепленных на оргстекле стойками TFF-M3x12. Собрать прототип на столе мешал тот момент, что он должен быть мобильным для переноски в цех для отладки в комплексе с оборудованием. В центре был модуль с stm32 с минимальной обвязкой, модуль rs485 и еще какие то специфические для управления промышленным оборудованием. 
ㅤДеление на модули упрощало отладку схемотехники, в случае ошибок, исправлялось не все устройство. Кроме того, если в процессе появлялась необходимость подключить модуль на другие выводы микроконтроллера, это делалось мгновенно, так как, модули соединялись между собой перемычками dupont на пины PLS. Далее велась проработка схемотехники и ПО. 
ㅤВ момент когда к схемотехническим решениям не было вопросов, на основе наработок разработано окончательное устройство, выполнена трассировка ПП и подобран корпус на DIN рейку. Заказаны детали и изготовление печатных плат. И пока проворачивалась тяжелая машина отдела снабжения, отладка ПО продолжалась на прототипе. И к моменту поставки комплектующих и печатных плат на окончательный вариант, отладка ПО была завершена. Устройство собрано, установлено на оборудование, прототип был разобран и отложен в ящик. До того момента, когда снова появилась необходимость самодельщины. 
ㅤС учетом предыдущего проекта, когда прототип выдержал частые переноски с кабинета в цех и обратно, разработка пошла с тем же подходом. Часть модулей c предыдущего проекта были использованы повторно, недостающие были изготовлены. В процессе сборки выяснилось, что сделаны отверстия в определенных местах, и для изменения взаимного расположения модулей нужно сверлить новые отверстия. Поэтому в новом листе оргстекла был сделан массив отверстий с шагом 5 mm и диаметром 3mm. Это позволило размещать модули в произвольном порядке, так как крепежные отверстия на модулях также имели шаг в 5mm.
ㅤС того момента с таким подходом было разработано еще несколько проектов с довольно большим временным интервалом. Ничего нового не было привнесено в подход к прототипированию, в связи с тем что основной деятельностью была не разработка электроники.



## ㅤПортативное прототипирование
ㅤС выше изложенно истории можно сделать вывод, что достаточно заготовить деталь с массивом отверстий, запас стоек, винтов, перемычек dupont и закладывать шаг 5mm в крепежные отверстия новых модулей - со временем получится некий набор, с помощью которого можно будет собрать механически цельный прототип.
ㅤНо в выше описанном походе я видел некоторую незавершенность. Все это время была навязчивая идея как то развить данное направление и поделиться наработками, так как уверен что есть те кто сталкивался с подобной ситуацией. Не в необходимости самодельщины, а сборки портативного прототипа. Недавно появилось время уделить время теме портативного протипирования.



## ㅤОснова
ㅤОсновой я называю плоскую деталь с сеткой отверстий, на которую крепятся модули. Размерность основы указывается в количестве отверстий по сторонам, и расстоянием между отверстиями. Размерность указывается парой двузначных чисел с лидирующими нулями.
ㅤВ первом варианте это было оргстекло с вручную сделанными отверстиями. В основе размерностью 2040 (10х20 см) нужно  сделать 800 отверстий. К концу этого занятия я немного нервничал, повторять такое не советую. Точность приемлема, но нет, не стоит. Через некоторое время появилась возможность сделать резку на лазере. Из-за плотности реза основу повело от нагрева, пришлось нагревать феном и ровнять. Результат намного лучше чем вручную, но требует доработки и доступности лазерной резки и материала.
ㅤЗатем недавно я все же додумался попробовать печать на 3d принтере. Результат приемлем, можно было бы рекомендовать, но опять же доступность и стоимость.


  ![](https://habrastorage.org/webt/xk/np/hb/xknphbjuikw7ng0lg0quolmgq14.jpeg)
  ![](https://habrastorage.org/webt/xw/wa/ih/xwwaihkm083lb8it7tnpxoqzx1s.jpeg)



## ㅤОснова из текстолита
ㅤНедавно наводя порядок, перекладывал печатные платы со стола и обратно, и понял, что вот оно решение на поверхности не замеченное столько времени. Ведь те кто занимается разработкой электроники, имеет опыт заказа производства печатных плат. То есть изготовить основу из текстолита вероятно будет проще, чем искать резку или 3d печать. Это дает еще один плюс - уменьшение номенклатуры винтов для крепления, так как стойка с двух сторон крепится винтами одинаковой длинны, и там, и там текстолит.

  ![](https://habrastorage.org/webt/qx/fp/r0/qxfpr07_kcqrsir904ytygpy4wi.jpeg)



## ㅤУменьшение крепежных отверстий
ㅤСделал я недавно модуль сервоконтроллер ДПТ, размером 32х42 мм с совместимыми крепежными отверстиями, закрепил на основе и увидел насколько много занимает места головки винтов. 

  ![](https://habrastorage.org/webt/qj/z4/eu/qjz4eue3it_xipln02qfzyw0vue.png "наглядное сравнение занимаемого места винтами m3 и m2")

ㅤДа еще и диаметр пада на плате 6,5мм, что совсем не способствует размещению двух отверстий в соседних клетках. Решил что стойки м3 хоть и более распространённые, но нужно переходить на м2. Малое распространение компенсируется тем фактом, что достаточно оптом один раз закупить штук 200-500. 



## ㅤСоеденения встык
ㅤУменьшение размера отверстий экономит место, критичное для модулей небольшого размера. Так же появляется возможность закреплять модули встык, даже если крепеж находится на самом краю модуля. Что тянет за собой очередную возможность соединять модули между собой не перемычками dupont, а джамперами. 
![](https://habrastorage.org/webt/br/lu/id/brluidubt2zbkdxacrvkhrurbaa.png "пример модулей со сменными USB разъемами")
![](https://habrastorage.org/webt/g7/x4/m2/g7x4m2nvqbfmwxi6c58bvibw314.png "пример модулей CAN или RS485 с разними клеммами подключения к шине")
ㅤТакой вариант специфический и попахивает пропроитарщиной, но обратно совместим, так как позволяет подключать теме же dupont перемычками. Иллюстрации возможного применения для наглядности. 




## ㅤПересмотр размерности сетки основы

ㅤИдея соединения встык внесла сложность связанную с несовпадением кратности сетки основы 5mm  и перфорации макетной платы 2.54mm. 


![](https://habrastorage.org/webt/et/xm/ml/etxmml0wmjieztjosgajr3wbj0a.png "макетная плата и основа с сеткой 5мм")

ㅤОна заключается в том, что для совпадения пинов, нужно ориентироваться на какую то исходную точку, что сулит трудности и ограничения. Шаг основы в 5mm был выбран без существенного обоснования, как подходящее круглое число в метрической системе. Нет никаких причин держатся именно за это значение. И я принял решение что сетку основы нужно делать с шагом 5.08 мм, то есть 100mil. Как бы не хотелось опираться на имперскую систему измерения, но как по мне такое решение имеет больше преимуществ, чем недостатков.

## ㅤПреимущества новой размерности сетки основы
ㅤКроме упрощения разработки модулей встык, мы получаем возможность быстро сделать совместимый модуль с обычной макетной платы. Рассверливаем до 2mm отверстия, и получаем совместимые крепежные отверстия. На самой макетной плате собираем модуль.

![](https://habrastorage.org/webt/wk/hl/l9/wkhll9lif6pxowgq9_sdxrxr-qe.png  "модуль с светодиодами")

![](https://habrastorage.org/webt/wk/fc/zu/wkfczuaiukd4owrlmuajbhrtvha.png "переходник для black pill")

ㅤС тех же макетных  плат можно делать переходники для модулей с запаянными вниз пинами, когда изначально предполагалось использовать с беспаечной макеткой.

## ㅤК вопросу о бюджетности
ㅤЕсть производители печатных плат, которые изготавливают платы размером 100x100 как опытные образцы. Когда я заказывал первые варианты основы в виде плат, они были как раз 100х100. С сеткой 5,08 размер уже выходит 101,6х101,6. Что не вписывается в более бюджетный способ получения основы, но там где я заказывал, такой размер прошел как образец. 
ㅤЕсли размера 101,6х101,6 не хватит, то можно скрепить в стык две основы. Отдельный соединяющий крепеж думаю это лишнее в разрезе бюджетности, хватит соединить пайкой две мелкие. А кто не гонится за бюджетностью, сможет заказать основу большего размера, может даже не стандартной толщины 1,6 а 2 мм для увеличения жесткости.

## ㅤКрепежные винты
ㅤЕсть много винтов с разными головками. Для себя я выбрал винты с головкой под шестигранник. Мне они кажутся наиболее удобными при сборке. Такой винт лучше поддается контролю и не теряется, так как его можно насадить на шестигранный ключ без всяких магнитов, как с отвертками. Да именно ключ. Опять же, как по мне, то лучше держать отдельный инструмент специально для сборки прототипов. А шестигранный ключик 1.5mm практически не занимает места по сравнению с отверткой.

## ㅤМежплатные стойки

![](https://habrastorage.org/webt/ef/y6/e2/efy6e2uc_4kjkqmzo7n-hc5ca7c.jpeg)

ㅤПо поводу межплатных стоек особо нечего сказать, кроме того что их длинна обусловлена расстоянием между печатными платами при соединении их гребенкой PLS и ответным разъёмом. Что увеличивает сферу их применения, а не только для набора прототипирования. В качестве ответного крепежа модулей теоретически можно использовать другие элементы, может даже запаянные на плату модуля. Но применение решений увеличивающих номенклатуру стартового набора не входит в концепцию.

## ㅤИнструмент
ㅤСчитаю полезным держать отдельный инструмент конкретно под эту задачу. Отверткой или шестигранным ключом собирать только модули на основе, и хранить вместе с остальным предметами набора. Сверло зажатое в цанговый патрон для рассверливания крепежных отверстий в макетных платах, или другой инструмент, которым можно проделать эту операцию. Также другие мелкие инструменты которые посчитаете необходимыми и себе сможете позволить задублировать.

## Минимальный стартовый набор
- основа - печатная плата с массивом отверстий 2mm с шагом 5,08mm
- межплатные стойки TFF-M2х11 мама-мама
- двойное количество винтов м2х6
- шестигранный ключ или отвертка
- перемычки dupont мама-мама 
- макетные млаты подходящих размеров и детали для изготовления модулей и переходников
- PLS и PBS шагом 2,54
- джамперы на PLS, если планируется использовать модули встык
- инструмент для увеличения размеров отверстий до 2mm в макетных платах (хорошо подойдет центровочное сверло 2мм, сразу будет формироваться фаска плюс ручной мини дрель с цанговым патроном) 

## ㅤОсновыные принципы для дальнейшего развития подхода к прототипированию
- максимальная бюджетность
- уменьшение номенклатуры комплектующих необходимых для работы с конструктором портативного прототипа
- максимальная DIY совместимость (по возможности отказ от решений непригодных для самостоятельного изготовления)

## ㅤДальнейшие планы
- детальней проработать терминологию.
- сформировать документ с правилами и терминологией - так сказать инструкцию или наставление.
- разрабатывать модули с последующей публикацией наработок.
- проработка наглядных примеров реальных устройств для демонстрации положительных свойств подхода.


## ㅤ#pp2508
ㅤХештег для обозначения принадлежности к выше описанной теме.

## ㅤЦель публикации
ㅤПоделится идеей и получить обратную связь от обширной аудитории как материал для дальнейшего развития.